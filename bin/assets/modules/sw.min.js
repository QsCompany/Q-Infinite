import{Workers}from"../../sys/Thread";importScripts("./offlineMode/workbox-sw.js");importScripts("./worker.js");Workers.WebWorker.Server.Start();var apiRouter=new workbox.routing.Route(n=>n.url.pathname.indexOf("/_/")===0||n.url.pathname.indexOf("/~")===0,workbox.strategies.networkFirst(),"GET"),assetsRouter=new workbox.routing.Route(n=>n.url.pathname.indexOf("/_/")!==0||n.url.pathname.indexOf("/~")!==0,workbox.strategies.cacheFirst(),"GET"),stat=!0;Workers.WebWorker.registerHandler("goOffline",n=>n.Msg.Data===stat?stat:n.Msg.Data===!0?(workbox.routing.registerRoute(apiRouter),workbox.routing.registerRoute(assetsRouter),stat=!0,!0):n.Msg.Data===!1?(workbox.routing.unregisterRoute(apiRouter),workbox.routing.unregisterRoute(assetsRouter),stat=!1,!1):undefined);Workers.WebWorker.registerHandler("OfflineState",()=>stat);workbox.routing.registerRoute(apiRouter);workbox.routing.registerRoute(assetsRouter);stat=!0;